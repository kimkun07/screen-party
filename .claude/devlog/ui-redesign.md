# Task: UI Redesign (클라이언트 UI 개선)

## 개요

클라이언트 시작 화면 및 메인 화면 UI 개선

## 목표

- [ ] 시작 화면에 서버 주소 입력 필드 추가
- [ ] 호스트/게스트 모드 구분 제거 (통합 UI)
- [ ] 세션 입력/생성 UI 개선
- [ ] 호스트 세션 생성 시 클립보드 자동 복사
- [ ] 메인 화면에 서버 주소/세션 번호 정보 표시 및 복사 버튼

## 상세 요구사항

### 시작 화면 UI 구조

```
┌─────────────────────────────┐
│   Screen Party              │
├─────────────────────────────┤
│                             │
│   서버 주소: [입력창]        │
│                             │
│   세션 번호: [입력창] [접속] │
│                             │
│   [세션 생성]                │
│                             │
└─────────────────────────────┘
```

### 플로우 변경

#### 호스트 플로우
1. 서버 주소 입력
2. "세션 생성" 버튼 클릭
3. 서버에 세션 생성 요청
4. 세션 번호 받으면 `(서버주소, 세션번호)` 형식으로 클립보드에 자동 복사
5. 다음 화면으로 전환 (메인 화면)

#### 게스트 플로우
1. 서버 주소 입력
2. 세션 번호 입력
3. "접속" 버튼 클릭
4. 서버에 세션 참여 요청
5. 성공 시 다음 화면으로 전환 (메인 화면)

### 메인 화면 편의 기능

메인 화면에 현재 연결 정보 표시 및 클립보드 복사 기능:

```
서버 주소: ws://example.com:8765 [복사]
세션 번호: ABC123 [복사]
```

## TODO

- [x] MainWindow UI 재설계
  - [x] 서버 주소 입력 QLineEdit 추가
  - [x] 세션 번호 입력 + 접속 버튼 가로 레이아웃
  - [x] 세션 생성 버튼
  - [x] Host/Guest 모드 버튼 제거
- [x] 클립보드 복사 기능 구현 (QClipboard)
- [x] 호스트 세션 생성 시 자동 클립보드 복사
- [x] 메인 화면에 서버 주소/세션 번호 표시
- [x] 메인 화면에 복사 버튼 추가
- [ ] 테스트 실행 및 검증 (로컬 GUI 환경 필요)

## 클로드 코드 일기

### 2026-01-03 - UI 재설계 완료

**상태**: 🟡 준비중 → 🟢 진행중 → ✅ 완료

**진행 내용**:
- ✅ 현재 클라이언트 코드 분석 완료
- ✅ 요구사항 정리 완료
- ✅ devlog 파일 생성
- ✅ MainWindow UI 재설계 완료
  - 시작 화면과 메인 화면 분리
  - 서버 주소 입력 필드 추가 (QLineEdit)
  - 호스트/게스트 모드 버튼 제거
  - 세션 번호 입력 + 접속 버튼 (가로 레이아웃)
  - 세션 생성 버튼 추가
- ✅ 클립보드 복사 기능 구현
  - QApplication.clipboard() 사용
  - 호스트: 세션 생성 시 `(서버주소, 세션번호)` 형식으로 자동 복사
  - 메인 화면: 서버 주소/세션 번호 각각 복사 버튼
- ✅ 플로우 변경
  - 호스트: 세션 생성 → 클립보드 복사 → 메인 화면
  - 게스트: 세션 입력 → 접속 → 메인 화면
- ✅ 메인 화면 편의 기능
  - 서버 주소, 세션 번호 표시
  - 각 정보 옆에 복사 버튼

**주요 변경사항**:
- `on_host_mode()` → `on_create_session()` 함수명 변경
- `on_guest_mode()` → `on_join_session()` 함수명 변경
- `create_start_screen()`, `create_main_screen()` 메서드 추가
- `show_start_screen()`, `show_main_screen()` 메서드 추가
- `set_start_status()`, `disable_start_buttons()`, `enable_start_buttons()` 메서드 추가
- `copy_server_address()`, `copy_session_id()` 메서드 추가

**테스트 결과**:
- ✅ Python 문법 체크 통과
- ⚠️ GUI 수동 테스트 필요 (devcontainer 환경에서는 GUI 표시 불가)
- ⚠️ 통합 테스트 업데이트 필요

**다음 단계**:
1. 로컬 환경에서 GUI 수동 테스트
2. 통합 테스트 업데이트 (필요시)
3. 커밋 및 devlog 업데이트

**고려사항**:
- QClipboard 사용하여 클립보드 복사 ✅
- PyQt6 QLineEdit로 입력 필드 구현 ✅
- QHBoxLayout으로 가로 레이아웃 구성 ✅
- 서버 주소 기본값 "ws://localhost:8765" 설정 ✅

---

> **다음 Claude Code에게**:
> - UI 재설계 완료! 모든 요구사항 구현됨
> - GUI 수동 테스트는 로컬 환경에서 진행 필요 (Windows/Linux GUI 환경)
> - 통합 테스트는 WebSocketClient를 직접 사용하므로 영향 없음
> - 실제 사용자 시나리오 테스트 필요:
>   1. 서버 주소 입력 → 세션 생성 → 클립보드 확인 → 메인 화면
>   2. 서버 주소 + 세션 번호 입력 → 접속 → 메인 화면
>   3. 메인 화면에서 서버 주소/세션 번호 복사 버튼 테스트
